(()=>{"use strict";function e(){const e=document.querySelectorAll(".map");if(e.length){function t(e){const t=JSON.parse(e.dataset.center),o=Number(e.dataset.zoom),r=e.dataset.icon;let n={};r&&(n={iconLayout:"default#image",iconImageHref:r,iconImageSize:[80,80],iconImageOffset:[-30,-40]}),ymaps.ready(function(){const r=new ymaps.Map(e,{center:t,zoom:o}),c=new ymaps.Placemark(t,{},n);r.geoObjects.add(c),r.controls.remove("geolocationControl"),r.controls.remove("searchControl"),r.controls.remove("trafficControl"),r.controls.remove("typeSelector"),r.controls.remove("fullscreenControl"),r.controls.remove("rulerControl"),r.behaviors.disable(["scrollZoom"])})}e.forEach(e=>{new IntersectionObserver(function(e,o){e.forEach(e=>{const r=e.target;e.isIntersecting&&(function(e,t){if(e)return new Promise((o,r)=>{const n=document.querySelector(`script[src="${e}"]`);if(n)o(n);else{const n=document.createElement("script");n.src=e,t&&(n.type=t),n.onload=()=>{o(n)},n.onerror=()=>{r(new Error(`Не удалось загрузить скрипт: ${e}`))},document.head.appendChild(n)}})}("https://api-maps.yandex.ru/2.1/?apikey=b46e9249-4925-4460-b11c-3aaf76ad0115&lang=ru_RU","text/javascript").then(()=>t(r)),o.unobserve(r))})},{root:null,rootMargin:"0px",scrollMargin:"0px",threshold:.01}).observe(e)})}}document.addEventListener("DOMContentLoaded",()=>{!function(){const e=document.querySelector("#burger-open"),t=document.querySelector("#burger-close"),o=document.querySelector("#burger"),r=document.querySelector("#burger-overlay");if(o){function n(){e.classList.remove("_active"),o.classList.remove("_open"),r.classList.remove("_active"),document.body.classList.remove("body-hidden")}function c(){e.classList.add("_active"),o.classList.add("_open"),r.classList.add("_active"),document.body.classList.add("body-hidden")}o.querySelectorAll(".burger__list a").forEach(e=>e.addEventListener("click",n)),o.addEventListener("click",e=>e.stopPropagation()),r.addEventListener("click",n),e.addEventListener("click",t=>{t.stopPropagation(),e.classList.contains("_active")?n():c()}),t.addEventListener("click",e=>{e.stopPropagation(),n()})}}(),function(){const e=document.querySelector(".s-services__nav-slider");e&&new Swiper(e,{speed:900,slidesPerView:"auto",spaceBetween:20,navigation:{prevEl:".s-services .slider-arrow._prev",nextEl:".s-services .slider-arrow._next"},breakpoints:{1200:{slidesPerView:4,spaceBetween:30},992:{slidesPerView:3,spaceBetween:20}}});const t=document.querySelector(".s-team__slider");t&&new Swiper(t,{speed:900,slidesPerView:1,spaceBetween:15,navigation:{prevEl:".s-team .slider-arrow._prev",nextEl:".s-team .slider-arrow._next"},pagination:{clickable:!0,el:".s-team .slider-pagination"},breakpoints:{992:{slidesPerView:4,spaceBetween:15},768:{slidesPerView:3,spaceBetween:15},480:{slidesPerView:2,spaceBetween:15}}})}(),function(){const e=document.querySelectorAll(".container-more");e.length&&e.forEach(e=>{const t=e.querySelector("[data-more-btn]"),o=+e.dataset.countShow;0===Array.from(e.querySelectorAll("[data-more-item]")).filter(e=>"none"===window.getComputedStyle(e).display).length&&t.remove(),t.addEventListener("click",()=>{const r=e.querySelectorAll("[data-more-item]"),n=Array.from(r).filter(e=>"none"===window.getComputedStyle(e).display);n.splice(0,o).forEach(e=>{e.classList.add("_open"),setTimeout(()=>{e.classList.add("_show")})}),n.length<=0&&t.remove()})})}(),function(){const e=document.querySelectorAll("[data-tab-btn]");e.length&&e.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".tabs"),o=e.dataset.tabBtn,r=t.querySelector(".tabs-nav").querySelectorAll("[data-tab-btn]"),n=Array.from(t.querySelector(".tabs-content").children).filter(e=>e.hasAttribute("data-tab")),c=t.querySelector(`[data-tab="${o}"]`);n.forEach(e=>{e.classList.remove("_show"),e.classList.remove("_active")}),c.classList.add("_active"),setTimeout(()=>{c.classList.add("_show")},150),r.forEach(e=>e.classList.remove("_active")),e.classList.add("_active")})})}(),function(){const e=document.querySelectorAll("[data-calc-purpose]");if(e.length){const t=document.querySelector("#calc-purpose-input");e.forEach(e=>{e.addEventListener("click",()=>{const o=e.dataset.calcPurpose;t.value=o})})}}(),function(){const e=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999-99-99").mask(e)}(),e(),function(){const e=document.querySelector(".header");if(e){let t=0;window.addEventListener("scroll",()=>{let o=window.pageYOffset||document.documentElement.scrollTop;o>t&&o>e.clientHeight?e.classList.add("_scroll"):e.classList.remove("_scroll"),t=o})}}(),function(){const e=document.querySelectorAll(".anchors");if(e.length){const t=document.querySelector(".header").clientHeight;e.forEach(e=>{e.querySelectorAll("a").forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let o=this.getAttribute("href").substring(1);const r=document.getElementById(o);r&&window.scrollBy({top:r.getBoundingClientRect().top-t,behavior:"smooth"})})})})}}(),Fancybox.bind("[data-fancybox]",{closeButton:!1})})})();